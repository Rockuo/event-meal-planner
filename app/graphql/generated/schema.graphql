type Group {
  uuid: ID!
  name: String!
  members: [GroupMember!]!
}

enum GroupRole {
  admin
  editor
}

type GroupMember {
  user: User!
  role: GroupRole!
}

type User {
  uuid: ID!
  email: String!
}

type Ingredient {
  id: Int!
  name: String!
  defaultUnit: String
  tags: [IngredientTag!]!
}

type IngredientTag {
  id: Int!
  name: String!
}

type MealTag {
  id: Int!
  name: String!
}

type MealIngredient {
  ingredient: Ingredient!
  count: Int!
  unit: String
}

type Meal {
  id: Int!
  name: String!
  description: String
  guide: String
  ingredients: [MealIngredient!]!
  tags: [MealTag!]!
}

input MealIngredientInput {
  ingredientId: Int!
  count: Int!
  unit: String
}

type Query {
  group(uuid: ID!): Group
  refreshCredentials: String
  ingredients(groupUuid: ID!): [Ingredient!]!
  ingredientTags(groupUuid: ID!): [IngredientTag!]!
  meals(groupUuid: ID!): [Meal!]!
  mealTags(groupUuid: ID!): [MealTag!]!
}

type Mutation {
  login(email: String!, password: String!): String
  register(email: String!, password: String!): String
  createGroup(name: String!): String
  changeGroupName(groupId: ID!, name: String!): Boolean
  inviteUser(groupId: ID!, email: String!): String
  revokeAccess(groupId: ID!, userId: ID!): Boolean
  deleteGroup(groupId: ID!): Boolean
  createIngredientTag(name: String!, groupUuid: ID!): Boolean!
  createIngredient(name: String!, defaultUnit: String, tagIds: [Int!]!, groupUuid: ID!): Boolean!
  deleteIngredientTag(id: Int!, groupUuid: ID!): Boolean!
  deleteIngredient(id: Int!, groupUuid: ID!): Boolean!
  updateIngredient(id: Int!, name: String, defaultUnit: String, tagIds: [Int!]!): Boolean!
  updateIngredientTag(id: Int!, name: String!): Boolean!
  createMealTag(name: String!, groupUuid: ID!): Boolean!
  updateMealTag(id: Int!, name: String!): Boolean!
  deleteMealTag(id: Int!, groupUuid: ID!): Boolean!
  createMeal(name: String!, description: String, guide: String, ingredients: [MealIngredientInput!]!, tagIds: [Int!]!, groupUuid: ID!): Boolean!
  updateMeal(id: Int!, name: String, description: String, guide: String, ingredients: [MealIngredientInput!]!, tagIds: [Int!]!): Boolean!
  deleteMeal(id: Int!, groupUuid: ID!): Boolean!
}